<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>PIONE Webclient</title>

    <!-- ------------------------------------------------------------ -->
    <!-- CSS                                                          -->
    <!-- ------------------------------------------------------------ -->
    <!-- bootstrap -->
    <link rel="stylesheet" href="/<%= Pione::Global.resource[:bootstrap_css] %>"/>
    <link rel="stylesheet" href="/<%= Pione::Global.resource[:bootstrap_theme_css] %>"/>
    <!-- fonts -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto+Condensed:700italic|Roboto:100|Inconsolata:700,400"/>
    <!-- PIONE -->
    <link rel="stylesheet" href="/css/pione-webclient.css"/>
  </head>

  <body>
    <!-- Header -->
    <section id="header">
      <h1>PIONE Webclient</h1>
      <div>PIONE is a rule based workflow engine. Hello, PIONE users!</div>
    </section>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-default" role="navigation">
      <div class="navbar-header">
	<a class="navbar-brand" href="#">PIONE</a>
      </div>
      <div class="collapse navbar-collapse">
	<ul class="nav navbar-nav">
	  <li><a href="/">Workspace</a></li>
	  <li class="active"><a href="#">Job</a></li>
	</ul>
	<form class="navbar-form navbar-left">
	  <div class="form-group">
	    <input type="text" class="form-control" placeholder="Job Name">
	  </div>
	  <button type="submit" class="btn btn-default">Create a new job</button>
	</form>
	<ul class="nav navbar-nav navbar-right">
	  <li><a href="/logout">Logout</a></li>
	</ul>
      </div>
    </nav>

    <!-- Source Panel -->
    <section id="source">
      <h2>Select a PIONE Package and Source Files</h2>
      <div id="source-panel" class="panel panel-default">
	<div class="panel-body">
	  <h3>PIONE Package</h3>
	  <!-- buttons for selecting a source PPG file -->
	  <div>
	    <input type="dropbox-chooser" name="selected-file" id="source-ppg-chooser" style="visibility: hidden;"
		   data-link-type="direct" data-extensions=".ppg" /> or
	    <div class="btn btn-xs btn-default file">
	      <span class="glyphicon glyphicon-upload"></span> Direct Upload
	      <input type="file" id="source-ppg-direct-uploader" />
	    </div>
	  </div>

	  <!-- show a source PPG file -->
	  <div>
	    <span class="glyphicon glyphicon-file"></span>
	    <span id="source-ppg" class="source-names">No package</span>
	  </div>

	  <h3>Source Files</h3>
	  <!-- buttons for selecting source data files -->
	  <div>
	    <input type="dropbox-chooser" name="selected-file" id="source-files-chooser" style="visibility: hidden;"
		   data-link-type="direct" data-multiselect="true" /> or
	    <div class="btn btn-xs btn-default file">
	      <span class="glyphicon glyphicon-upload"></span> Direct Upload
	      <input type="file" id="source-files-direct-uploader" multiple />
	    </div>
	  </div>

	  <!-- show source data files -->
	  <div>
	    <span class="glyphicon glyphicon-file"></span>
	    <span id="source-files" class="source-names">No package</span>
	  </div>
	</div>
      </div>
    </section>

    <!-- Operation -->
    <section id="operation">
      <h2>Operations</h2>
      <div class="btn-group btn-group-justified">
	<a class="btn btn-lg btn-default disabled" id="request">
	  <span class="glyphicon glyphicon-play"></span> Start
	</a>
	<a class="btn btn-lg btn-default disabled" id="cancel">
	  <span class="glyphicon glyphicon-stop"></span> Stop
	</a>
	<a class="btn btn-lg btn-default" id="delete" href="/job/delete/<%= job.id %>">
	  <span class="glyphicon glyphicon-trash"></span> Delete
	</a>
      </div>
    </section>

    <!-- Message Log -->
    <section id="message-log">
      <h2>Processing Message Log</h2>
      <div class="panel panel-default">
	<div class="panel-body">
	  <pre></pre>
	</div>
      </div>
    </section>

    <!-- Interactive Operation Canvas -->
    <section id="interactive">
      <h2>Interactive Operation Canvas</h2>
      <div class="modal fade">
	<div class="modal-dialog">
	  <div class="modal"
	  <div class="canvas"></div>
	</div>
      </div>
    </section>

    <!-- Target -->
    <section id="target">
      <h2>Save the Target Zip</h2>
      <div class="panel pane-default">
	<div class="panel-body">
	  <a href="pione-logo.png" class="dropbox-saver" data-filename="result.zip" id="target-saver"></a> or
	  <a href="pione-logo.png" class="btn btn-xs btn-default" id="target-download">
	    <span class="glyphicon glyphicon-download"></span> Direct Download
	  </a>
	</div>
      </div>
    </section>

    <!-- Status Box -->
    <div id="status-box">
      <button id="follow-message-log">
	<span class="glyphicon glyphicon-arrow-down"></span>
      </button>
      <div class="unknown" id="job-status">
	<span class="glyphicon glyphicon-question-sign"></span>
	Job: <span class="status-name">Unknown</span>
      </div>
      <div class="unknown" id="server-status">
	<span class="glyphicon glyphicon-question-sign"></span>
	Server: <span class="status-name">Unknown</span>
      </div>
    </div>

    <!-- Alert Message Box -->
    <div id="alert-box"></div>

    <!-- Footer -->
    <section id="footer">
      <h2>Footer</h2>
      <div class="box">
	<span style="padding-right: 1em">PIONE Projects:</span>
	<div class="btn-group">
	  <a href="https://github.com/pione/pione" class="btn btn-xs btn-default">
	    <img src="https://raw.github.com/github/media/master/octocats/blacktocat-16.png"/> PIONE
	  </a>
	  <a href="https://github.com/pione/pione-webclient" class="btn btn-xs btn-default">
	    <img src="https://raw.github.com/github/media/master/octocats/blacktocat-16.png"/> PIONE Webclient
	  </a>
	</div>
      </div>
      <div class="info">This client is working with PIONE <%= Pione::VERSION %>.</div>
    </section>

    <!-- ------------------------------------------------------------ -->
    <!-- JS                                                           -->
    <!-- ------------------------------------------------------------ -->
    <script src="/lib/js/underscore.js"></script>
    <script src="/<%= Pione::Global.resource[:jquery_js] %>"></script>
    <script src="/<%= Pione::Global.resource[:bootstrap_js] %>"></script>
    <script src="/rocketio/rocketio.js"></script>
    <script src="/js/pione-webclient.js"></script>
    <script type="text/javascript" src="https://www.dropbox.com/static/api/1/dropins.js" id="dropboxjs" data-app-key="<%= Pione::Global.dropins_app_key %>"></script>
  </body>
</html>

